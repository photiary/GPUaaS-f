{
  "openapi": "3.1.0",
  "info": {
    "title": "Spring Boot Starter Kit API",
    "description": "API documentation for Spring Boot Starter Kit",
    "contact": {
      "name": "Funa",
      "url": "https://github.com/photiary/GPUaaS-b",
      "email": "contact@funa.com"
    },
    "license": {
      "name": "MIT License",
      "url": "https://opensource.org/licenses/MIT"
    },
    "version": "v1.0.0"
  },
  "servers": [
    {
      "url": "http://localhost:8080",
      "description": "Generated server url"
    }
  ],
  "tags": [
    {
      "name": "container",
      "description": "컨테이너 관리 API"
    },
    {
      "name": "node",
      "description": "리소스 노드 관리 API"
    },
    {
      "name": "demo",
      "description": "Demo API for logging functionality demonstration"
    },
    {
      "name": "job",
      "description": "Job 관리 및 모니터링 API"
    }
  ],
  "paths": {
    "/api/nodes/{nodeId}": {
      "get": {
        "tags": [
          "node"
        ],
        "summary": "리소스 노드 상세 조회",
        "operationId": "get",
        "parameters": [
          {
            "name": "nodeId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NodeResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "node"
        ],
        "summary": "리소스 노드 수정",
        "operationId": "update",
        "parameters": [
          {
            "name": "nodeId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NodeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NodeResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "node"
        ],
        "summary": "리소스 노드 삭제",
        "operationId": "delete",
        "parameters": [
          {
            "name": "nodeId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/jobs/{jobId}": {
      "get": {
        "tags": [
          "job"
        ],
        "summary": "Job 상세 조회",
        "operationId": "get_1",
        "parameters": [
          {
            "name": "jobId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "job"
        ],
        "summary": "Job 수정",
        "operationId": "update_1",
        "parameters": [
          {
            "name": "jobId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/JobRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "job"
        ],
        "summary": "Job 삭제",
        "operationId": "delete_1",
        "parameters": [
          {
            "name": "jobId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/jobs/{jobId}/edges/{edgeId}": {
      "get": {
        "tags": [
          "job"
        ],
        "summary": "컨테이너 엣지 상세 조회",
        "operationId": "getEdge",
        "parameters": [
          {
            "name": "jobId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "edgeId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContainerEdgeResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "job"
        ],
        "summary": "컨테이너 엣지 수정",
        "operationId": "updateEdge",
        "parameters": [
          {
            "name": "jobId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "edgeId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContainerEdgeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContainerEdgeResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "job"
        ],
        "summary": "컨테이너 엣지 삭제",
        "operationId": "deleteEdge",
        "parameters": [
          {
            "name": "jobId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "edgeId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/containers/{containerId}": {
      "get": {
        "tags": [
          "container"
        ],
        "summary": "컨테이너 상세 조회",
        "operationId": "get_2",
        "parameters": [
          {
            "name": "containerId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContainerResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "container"
        ],
        "summary": "컨테이너 수정",
        "operationId": "update_2",
        "parameters": [
          {
            "name": "containerId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContainerRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContainerResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "container"
        ],
        "summary": "컨테이너 삭제",
        "operationId": "delete_2",
        "parameters": [
          {
            "name": "containerId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/nodes": {
      "get": {
        "tags": [
          "node"
        ],
        "summary": "리소스 노드 목록 조회",
        "operationId": "list",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/NodeResponse"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "node"
        ],
        "summary": "리소스 노드 등록",
        "operationId": "create",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NodeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NodeResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/jobs": {
      "get": {
        "tags": [
          "job"
        ],
        "summary": "Job 목록 조회",
        "operationId": "list_1",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/JobResponse"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "job"
        ],
        "summary": "새 Job 생성",
        "operationId": "create_1",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/JobRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/jobs/{jobId}/stop": {
      "post": {
        "tags": [
          "job"
        ],
        "summary": "실행 중인 Job을 수동으로 중지",
        "operationId": "stop",
        "parameters": [
          {
            "name": "jobId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/jobs/{jobId}/start": {
      "post": {
        "tags": [
          "job"
        ],
        "summary": "지정한 Job을 수동으로 시작",
        "operationId": "start",
        "parameters": [
          {
            "name": "jobId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/jobs/{jobId}/edges": {
      "get": {
        "tags": [
          "job"
        ],
        "summary": "컨테이너 엣지 목록 조회",
        "operationId": "listEdges",
        "parameters": [
          {
            "name": "jobId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ContainerEdgeResponse"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "job"
        ],
        "summary": "컨테이너 엣지 등록",
        "operationId": "createEdge",
        "parameters": [
          {
            "name": "jobId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContainerEdgeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContainerEdgeResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/containers": {
      "post": {
        "tags": [
          "container"
        ],
        "summary": "컨테이너 생성",
        "operationId": "create_2",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContainerRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContainerResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/jobs/{jobId}/containers": {
      "get": {
        "tags": [
          "job"
        ],
        "summary": "특정 Job의 컨테이너 목록 조회",
        "operationId": "listContainers",
        "parameters": [
          {
            "name": "jobId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SimpleContainerResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/jobs/{jobId}/containers/state": {
      "get": {
        "tags": [
          "job"
        ],
        "summary": "특정 Job의 컨테이너 상태 실시간 모니터링 (SSE)",
        "operationId": "monitorContainerState",
        "parameters": [
          {
            "name": "jobId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SseEmitter"
                }
              }
            }
          }
        }
      }
    },
    "/api/jobs/{jobId}/containers/metrics": {
      "get": {
        "tags": [
          "job"
        ],
        "summary": "특정 Job의 컨테이너 메트릭스 실시간 모니터링 (SSE)",
        "operationId": "monitorContainerMetrics",
        "parameters": [
          {
            "name": "jobId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SseEmitter"
                }
              }
            }
          }
        }
      }
    },
    "/api/jobs/monitor": {
      "get": {
        "tags": [
          "job"
        ],
        "summary": "전체 Job 상태 실시간 모니터링 (SSE)",
        "operationId": "monitorAll",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SseEmitter"
                }
              }
            }
          }
        }
      }
    },
    "/api/demo/hello": {
      "get": {
        "tags": [
          "demo"
        ],
        "summary": "Hello endpoint",
        "description": "Returns a greeting message along with trace ID and user ID",
        "operationId": "hello",
        "parameters": [
          {
            "name": "message",
            "in": "query",
            "description": "Custom greeting message",
            "required": false,
            "schema": {
              "type": "string",
              "default": "Hello, World!"
            },
            "example": "Hello, World!"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/api/demo/error": {
      "get": {
        "tags": [
          "demo"
        ],
        "summary": "Error demonstration endpoint",
        "description": "Deliberately throws an exception to demonstrate error handling and logging",
        "operationId": "error",
        "responses": {
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "NodeRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1
          },
          "type": {
            "type": "string",
            "minLength": 1
          },
          "gpuCount": {
            "type": "integer",
            "format": "int32"
          },
          "cpuCores": {
            "type": "integer",
            "format": "int32"
          },
          "memoryCapacity": {
            "type": "integer",
            "format": "int32"
          },
          "status": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "type"
        ]
      },
      "NodeResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "gpuCount": {
            "type": "integer",
            "format": "int32"
          },
          "cpuCores": {
            "type": "integer",
            "format": "int32"
          },
          "memoryCapacity": {
            "type": "integer",
            "format": "int32"
          },
          "status": {
            "type": "string"
          },
          "lastHeartbeat": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "JobRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1
          },
          "description": {
            "type": "string"
          },
          "requestedGpus": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "requestedCpus": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "requestedMemory": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "metadata": {
            "type": "string"
          }
        },
        "required": [
          "name"
        ]
      },
      "JobResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "submitTime": {
            "type": "string",
            "format": "date-time"
          },
          "startTime": {
            "type": "string",
            "format": "date-time"
          },
          "endTime": {
            "type": "string",
            "format": "date-time"
          },
          "requestedGpus": {
            "type": "integer",
            "format": "int32"
          },
          "requestedCpus": {
            "type": "integer",
            "format": "int32"
          },
          "requestedMemory": {
            "type": "integer",
            "format": "int32"
          },
          "metadata": {
            "type": "string"
          }
        }
      },
      "ContainerEdgeRequest": {
        "type": "object",
        "properties": {
          "sourceContainerId": {
            "type": "string",
            "format": "uuid"
          },
          "targetContainerId": {
            "type": "string",
            "format": "uuid"
          },
          "edgeKey": {
            "type": "string"
          },
          "label": {
            "type": "string"
          },
          "condition": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          }
        }
      },
      "ContainerEdgeResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "jobId": {
            "type": "string",
            "format": "uuid"
          },
          "sourceContainerId": {
            "type": "string",
            "format": "uuid"
          },
          "targetContainerId": {
            "type": "string",
            "format": "uuid"
          },
          "edgeKey": {
            "type": "string"
          },
          "label": {
            "type": "string"
          },
          "condition": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ContainerRequest": {
        "type": "object",
        "properties": {
          "label": {
            "type": "string",
            "minLength": 1
          },
          "description": {
            "type": "string"
          },
          "sequence": {
            "type": "integer",
            "format": "int32"
          },
          "status": {
            "type": "string"
          },
          "config": {
            "type": "string"
          },
          "positionX": {
            "type": "number",
            "format": "double"
          },
          "positionY": {
            "type": "number",
            "format": "double"
          },
          "jobId": {
            "type": "string",
            "format": "uuid"
          },
          "nodeId": {
            "type": "string",
            "format": "uuid"
          }
        },
        "required": [
          "label"
        ]
      },
      "ContainerResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "label": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "sequence": {
            "type": "integer",
            "format": "int32"
          },
          "status": {
            "type": "string"
          },
          "config": {
            "type": "string"
          },
          "positionX": {
            "type": "number",
            "format": "double"
          },
          "positionY": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "SimpleContainerResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "label": {
            "type": "string"
          },
          "gpuCores": {
            "type": "integer",
            "format": "int32"
          },
          "cpuCores": {
            "type": "integer",
            "format": "int32"
          },
          "memoryMb": {
            "type": "integer",
            "format": "int32"
          },
          "diskGb": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "SseEmitter": {
        "type": "object",
        "properties": {
          "timeout": {
            "type": "integer",
            "format": "int64"
          }
        }
      }
    },
    "securitySchemes": {
      "bearer-jwt": {
        "type": "http",
        "name": "Authorization",
        "in": "header",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}